DROP SCHEMA XDB CASCADE;

CREATE SCHEMA XDB;

CREATE SEQUENCE "XDB"."CATEGORY_SEQ" INCREMENT BY 1 START WITH 1; 

CREATE COLUMN TABLE "XDB"."CATEGORY" (
  ID INTEGER NOT NULL PRIMARY KEY,
  NAME VARCHAR(50) NOT NULL UNIQUE,
  DISPLAY_NAME VARCHAR(50) NOT NULL);

CREATE SEQUENCE "XDB"."SUB_CATEGORY_SEQ" INCREMENT BY 1 START WITH 1;
  
CREATE COLUMN TABLE "XDB"."SUB_CATEGORY" (
   ID INTEGER NOT NULL PRIMARY KEY,
   NAME VARCHAR(50) NOT NULL,
   DISPLAY_NAME VARCHAR(45) NOT NULL,
   CATEGORY_ID INTEGER NOT NULL);
   
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Bills','Bills');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Food','Food');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Leisure','Leisure');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Automobile','Automobile');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Education','Education');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Homeneeds','Homeneeds');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Healthcare','Healthcare');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Insurance','Insurance');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Vacation','Vacation');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Taxes','Taxes');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Miscellaneous','Miscellaneous');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Gifts','Gifts');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Income','Income');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Other Income','Other Income');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Other Expenses','Other Expenses');
INSERT INTO "XDB"."CATEGORY" VALUES ("XDB"."CATEGORY_SEQ".NEXTVAL,'Transfer','Transfer');

INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Telephone', 'Telephone',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Electricity','Electricity',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Gas','Gas',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Internet','Internet',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Rent','Rent',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Cable TV','Cable TV',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Water','Water',1);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Groceries','Groceries',2);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Dining out','Dining out',2);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Movies','Movies',3);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Video Rental','Video Rental',3);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Magazines','Magazines',3);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Maintenance','Maintenance',4);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Gas','Gas',4);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Parking','Parking',4);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Registration','Registration',4);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Books','Books',5);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Tuition','Tuition',5);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Others','Others',5);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Clothing','Clothing',6);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Furnishing','Furnishing',6);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Others','Others',6);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Health','Health',7);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Dental','Dental',7);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Eyecare','Eyecare',7);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Physician','Physician',	7);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Prescriptions','Prescriptions',	7);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Auto','Auto',8);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Life','Life',8);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Home','Home',8);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Health','Health',8);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Travel','Travel',9);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Lodging','Lodging',9);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Sightseeing','Sightseeing',9);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Income Tax','Income Tax',10);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'House Tax','House Tax',10);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Water Tax','Water Tax',10);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Others','Others',10);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Salary','Salary',13);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Reimbursement/Refunds','Reimbursement/Refunds',13);
INSERT INTO "XDB"."SUB_CATEGORY" VALUES("XDB"."SUB_CATEGORY_SEQ".NEXTVAL,'Investment Income','Investment Income',13);

CREATE SEQUENCE "XDB"."CURRENCY_FORMAT_SEQ" INCREMENT BY 1 START WITH 1;

CREATE COLUMN TABLE "XDB"."CURRENCY_FORMAT" (
   ID INTEGER NOT NULL PRIMARY KEY,
   NAME VARCHAR(50) NOT NULL,
   DISPLAY_NAME VARCHAR(50) NOT NULL,
   PFX_SYMBOL VARCHAR(5),
   SFX_SYMBOL VARCHAR(5),
   DECIMAL_POINT CHAR(1),
   GROUP_SEPARATOR CHAR(1),
   UNIT_NAME VARCHAR(20),
   CENT_NAME VARCHAR(20),
   SCALE INTEGER,
   BASE_CONV_RATE INTEGER,
   CURRENCY_SYMBOL VARCHAR(3)
 );
   
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'US DOLLAR','US DOLLAR','$','$','.', ',', 'Dollar','Cents',100,1,'USD');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'EURO-GERMANY','EURO-GERMANY','�','�', '.', ',', 'EURO','Cents',100,1,'EUR');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'EURO-FRANCE','EURO-FRANCE','�','�','.', ',', 'EURO','Cents',100,1,'EUR');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'EURO-BELGIUM','EURO-BELGIUM','�','�','.', ',', 'EURO','Cents',100,1,'EUR');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'EURO-ITALY','EURO-ITALY','�','�','.', ',', 'EURO','Cents',100,1,'EUR');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'EURO-IRELAND','EURO-IRELAND','�','�','.', ',', 'EURO','Cents',100,1,'EUR');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'EURO-SPAIN','EURO-SPAIN','�','�','.', ',', 'EURO','Cents',100,1,'EUR');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'UK POUND','UK POUND','�','�','.', ',', 'Pound','Pence',100,1,'GBP');
INSERT INTO "XDB"."CURRENCY_FORMAT" VALUES("XDB"."CURRENCY_FORMAT_SEQ".NEXTVAL,'SWISS FRANC','SWISS FRANC','CHF','CHF','.', ',', 'Frank','Centimes',100,1,'CHF');

CREATE COLUMN TABLE "XDB"."ACCOUNT_TYPE" (
	ID INTEGER NOT NULL PRIMARY KEY,
	NAME VARCHAR(50) NOT NULL,
    DISPLAY_NAME VARCHAR(50) NOT NULL
  );
  
  INSERT INTO "XDB"."ACCOUNT_TYPE" VALUES(1,'Current','Current');
  INSERT INTO "XDB"."ACCOUNT_TYPE" VALUES(2,'Savings','Savings');
  INSERT INTO "XDB"."ACCOUNT_TYPE" VALUES(3,'CCard','Credit Card');
  INSERT INTO "XDB"."ACCOUNT_TYPE" VALUES(4,'Investment','Investment');
  
CREATE COLUMN TABLE "XDB"."ACCOUNT_STATUS" (
	ID INTEGER NOT NULL PRIMARY KEY,
	NAME VARCHAR(50) NOT NULL,
    DISPLAY_NAME VARCHAR(50) NOT NULL
  );  

INSERT INTO "XDB"."ACCOUNT_STATUS" VALUES(1,'Open','Open');
INSERT INTO "XDB"."ACCOUNT_STATUS" VALUES(2,'Closed','Closed');
  
CREATE COLUMN TABLE "XDB"."ACCOUNT_LIST" (
   ID INTEGER NOT NULL PRIMARY KEY,
   NAME VARCHAR(50) NOT NULL,
   DISPLAY_NAME VARCHAR(50) NOT NULL,
   TYPE_ID INTEGER NOT NULL,
   STATUS_ID INTEGER NOT NULL,
   NOTES VARCHAR(50),
   HELD_AT VARCHAR(50),
   WEBSITE VARCHAR(50),
   CONTACT_INFO VARCHAR(50),
   IS_FAVORITE VARCHAR(10),
   CURRENCY_ID INTEGER NOT NULL
   );
   
CREATE COLUMN TABLE "XDB"."TRANSACTION_TYPE" (
		ID INTEGER NOT NULL PRIMARY KEY,
		NAME VARCHAR(50) NOT NULL,
	    DISPLAY_NAME VARCHAR(50) NOT NULL
   );
    
INSERT INTO "XDB"."TRANSACTION_TYPE" VALUES(1,'Withdrawal','Withdrawal');
INSERT INTO "XDB"."TRANSACTION_TYPE" VALUES(2,'Deposit','Deposit');
INSERT INTO "XDB"."TRANSACTION_TYPE" VALUES(3,'Transfer','Transfer');
    
 CREATE COLUMN TABLE "XDB"."TRANSACTION_STATUS" (
		ID INTEGER NOT NULL PRIMARY KEY,
		NAME VARCHAR(50) NOT NULL,
	    DISPLAY_NAME VARCHAR(50) NOT NULL
   );
   
INSERT INTO "XDB"."TRANSACTION_STATUS" VALUES(1,'None','None');
INSERT INTO "XDB"."TRANSACTION_STATUS" VALUES(2,'UnReconciled','UnReconciled');
INSERT INTO "XDB"."TRANSACTION_STATUS" VALUES(3,'Reconciled','Reconciled');
INSERT INTO "XDB"."TRANSACTION_STATUS" VALUES(4,'Void','Void');
INSERT INTO "XDB"."TRANSACTION_STATUS" VALUES(5,'Follow up','Follow up');
INSERT INTO "XDB"."TRANSACTION_STATUS" VALUES(6,'Duplicate','Duplicate');
	
CREATE COLUMN TABLE "XDB"."ASSET_TYPE" (
	ID INTEGER NOT NULL PRIMARY KEY,
	NAME VARCHAR(50) NOT NULL,
    DISPLAY_NAME VARCHAR(50) NOT NULL
   );
   
CREATE COLUMN TABLE "XDB"."ASSET_LIST" (
    ID INTEGER NOT NULL PRIMARY KEY,
    NAME VARCHAR(50) NOT NULL,
    TYPE_ID INTEGER NOT NULL,
    START_DATE DATE,  
    ASSET_VALUE DECIMAL(10,2),
    VALUE_CHANGE DECIMAL(10,2),
    VALUE_CHANGE_RATE DECIMAL(10,2),    
    NOTES VARCHAR(50)    
  );
  
CREATE COLUMN TABLE "XDB"."PAYEE" (
	ID INTEGER NOT NULL PRIMARY KEY,
	NAME VARCHAR(50) NOT NULL,
    DISPLAY_NAME VARCHAR(50) NOT NULL,
    CATEGORY_ID INTEGER NOT NULL,
    SUB_CATEGORY_ID INTEGER NOT NULL    
   );
   
CREATE COLUMN TABLE "XDB"."TRANSACTIONS" (
    ID INTEGER NOT NULL PRIMARY KEY,
    ACCOUNT_ID INTEGER NOT NULL,
    TO_ACCOUNT_ID INTEGER NOT NULL,
    PAYEE_ID INTEGER NOT NULL,
    TRANS_CODE INTEGER NOT NULL,
    TRANS_AMOUNT DECIMAL(20,2),
    TRANS_STATUS VARCHAR(50) NOT NULL,
    TRANS_NUMBER INTEGER NOT NULL,
    TRANS_REF_NUMBER INTEGER,
    NOTES VARCHAR(50),
    CATEGORY_ID INTEGER NOT NULL,
    SUB_CATEGORY_ID INTEGER NOT NULL,
    TRANS_DATE DATE,
    FOLLOW_UP_ID INTEGER,   
    REPEATS VARCHAR(10) NOT NULL,
    NEXT_OCCURANCE_DATE DATE,
    NUM_OCCURANCES INTEGER
  );
   
CREATE COLUMN TABLE "XDB"."BILL_DEPOSITS" (
    ID INTEGER NOT NULL PRIMARY KEY,
    ACCOUNT_ID INTEGER NOT NULL,
    TO_ACCOUNT_ID INTEGER NOT NULL,
    PAYEE_ID INTEGER NOT NULL,
    TRANS_CODE INTEGER NOT NULL,
    TRANS_AMOUNT DECIMAL(20,2),
    TRANS_STATUS VARCHAR(50) NOT NULL,
    TRANS_NUMBER INTEGER NOT NULL,    
    NOTES VARCHAR(50),
    CATEGORY_ID INTEGER NOT NULL,
    SUB_CATEGORY_ID INTEGER NOT NULL,
    TRANS_DATE DATE,
    FOLLOW_UP_ID INTEGER,
    TO_TRANS_AMOUNT DECIMAL(20,2) NOT NULL,
    REPEATS VARCHAR(10) NOT NULL,
    NEXT_OCCURANCE_DATE DATE,
    NUM_OCCURANCES INTEGER
   );
  
CREATE COLUMN TABLE "XDB"."SPLIT_TRANSACTIONS" (
  	ID INTEGER NOT NULL PRIMARY KEY,
  	TRANS_ID INTEGER NOT NULL,
  	CATEGORY_ID INTEGER NOT NULL,
    SUB_CATEGORY_ID INTEGER NOT NULL,
    AMOUNT DECIMAL(20,2) NOT NULL
  );
  
CREATE COLUMN TABLE "XDB"."BUDGET_SPLIT_TRANSACTIONS" (
  	ID INTEGER NOT NULL PRIMARY KEY,
  	TRANS_ID INTEGER NOT NULL,
  	CATEGORY_ID INTEGER NOT NULL,
    SUB_CATEGORY_ID INTEGER NOT NULL,
    AMOUNT DECIMAL(20,2) NOT NULL
  );
  
CREATE COLUMN TABLE "XDB"."BUDGET_YEAR" (
  	ID INTEGER NOT NULL PRIMARY KEY,
  	NAME VARCHAR(50) NOT NULL,
    DISPLAY_NAME VARCHAR(50) NOT NULL
  );
  
 CREATE COLUMN TABLE "XDB"."BUDGET" (
  	ID INTEGER NOT NULL PRIMARY KEY,
  	BUDGET_YEAR_ID INTEGER NOT NULL,  	
  	CATEGORY_ID INTEGER NOT NULL,  	
    SUB_CATEGORY_ID INTEGER NOT NULL,
    PRIOD VARCHAR(10),
    AMOUNT DECIMAL(20,2) NOT NULL
  );
  
CREATE COLUMN TABLE "XDB"."CHECKING_ACCOUNT" (
    ID INTEGER NOT NULL PRIMARY KEY,
    ACCOUNT_ID INTEGER NOT NULL,
    TO_ACCOUNT_ID INTEGER NOT NULL,
    PAYEE_ID INTEGER NOT NULL,
    TRANS_CODE INTEGER NOT NULL,
    TRANS_AMOUNT DECIMAL(20,2),
    TRANS_STATUS VARCHAR(50) NOT NULL,
    TRANS_NUMBER INTEGER NOT NULL,
    NOTES VARCHAR(50),
    CATEGORY_ID INTEGER NOT NULL,
    SUB_CATEGORY_ID INTEGER NOT NULL,
    TRANS_DATE DATE NOT NULL,
    FOLLOW_UP_ID INTEGER,
    TO_TRANS_AMOUNT DECIMAL(20,2) NOT NULL
  );
  
CREATE COLUMN TABLE "XDB"."STOCK"(
    ID INTEGER NOT NULL PRIMARY KEY,
   	HELD_AT VARCHAR(50) NOT NULL,
   	PURCHASE_DATE DATE NOT NULL,
   	NAME VARCHAR(50) NOT NULL,
   	NUM_SHARES INTEGER NOT NULL,
   	PURCHASE_PRICE DECIMAL(20,2) NOT NULL,
   	NOTES VARCHAR(50),
   	CURRENT_PRICE DECIMAL(20,2) NOT NULL,
   	CURRENT_VALUE DECIMAL(20,2) NOT NULL,
   	COMMISION DECIMAL(20,2) NOT NULL
   );
  
CREATE COLUMN TABLE "XDB"."EXP_ENQUIRIES" (
   ID INTEGER NOT NULL PRIMARY KEY,
   EXPENSE_ID INTEGER NOT NULL,
   DEPT_ID INTEGER NOT NULL,
   TITLE VARCHAR(50) NOT NULL,
   CREATED_BY VARCHAR(50) NOT NULL,
   UPDATED_BY VARCHAR(50) NOT NULL,
   CREATED_AT TIMESTAMP NOT NULL,
   STATUS VARCHAR(50) NOT NULL
 );
 
CREATE SEQUENCE "XDB"."EXP_COMMENTS_SEQ" INCREMENT BY 1 START WITH 1;
  
CREATE COLUMN TABLE "XDB"."EXP_COMMENTS" (
   ID INTEGER NOT NULL PRIMARY KEY,
   ENQUIRY_ID INTEGER NOT NULL,
   CREATED_BY  VARCHAR(50) NOT NULL,
   CREATED_AT  TIMESTAMP NOT NULL,
   COMMENT_TXT VARCHAR(100) NOT NULL
 );  